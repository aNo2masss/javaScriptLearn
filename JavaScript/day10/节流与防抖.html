<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>1</h1>
    <h1>2</h1>
    <h1>3</h1>
    <h1>4</h1>
    <h1>5</h1>
    <h1>6</h1>
    <h1>7</h1>
    <h1>8</h1>
    <h1>9</h1>
    <h1>10</h1>
    <h1>11</h1>
    <h1>12</h1>
    <h1>13</h1>
    <h1>14</h1>
    <h1>15</h1>
    <h1>16</h1>
    <h1>17</h1>
    <h1>18</h1>
    <h1>19</h1>
    <h1>20</h1>
    <h1>21</h1>
    <h1>22</h1>
    <h1>23</h1>
    <h1>24</h1>
    <h1>25</h1>
    <h1>26</h1>
    <h1>27</h1>
    <h1>28</h1>
    <h1>29</h1>
    <h1>30</h1>
<script>
// var num=0;
// function demo () {
//     console.log(++num)
// }

// window.onscroll=function () {

//     throttle(demo)
// }

//封装节流函数
// function throttle(fn) {
//     //清除定时器
//     clearTimeout(fn._timebar)
//     //执行定时器
//     fn._timebar=setTimeout(fn,200)
// }
var lock=false;

window.onscroll=function () {

    // if(lock) {
    //     return;
    // }
    // demo();
    // //一秒内，无论有多少次，只能执行一次
    // setTimeout(function () {
    //     lock=false;
    // },1000)
}

// 节流器方法
function throttle (fn) {
    if(fn._lock)
    {
        return
    }
    fn._lock=true;
    fn();
    setTimeout(function () {
        fn._lock=false;
    },1000)
}


</script>
</body>
</html>